---
title: "Tuto charclust Package"
output:
  word_document: default
  pdf_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
## Intro
The goal of this tutorial is to show how to use the charclust package and interpret the results.  
The dataset for this example is "insertion_master" which is provided with the package.
but du clustering
methodes des kmeans avec 3 classes
```{r}
library(charclust)
data(insertion_master)
data.illu <- insertion_master[,c(1:6,12)]
data.act <-insertion_master[,7:11]
res.kmeans<-kmeans(data.act,centers=3,nstart=5)
```


## Creation de l'objet
explications ....
```{r}
obj <- objcharac(insertion_master, data.act, data.illu, res.kmeans$cluster)
```

## Evaluation du clustering
### DB
```{r}
db <- db_index(obj)
print(db)
```
bof
on va regarder un autre indicateur
### Silhouette
expliquer en quoi consiste l'indice
```{r}
silhouette <- sil(obj)
print(silhouette$silglob)
```
il est pas mal
regardons par clusters
```{r}
print(silhouette$silclus)
silhouette$plot
```
classe 2 legerement moins bien classé
mais globalement idem



## Caractérisation univariée
expliquer vite fait
on va d'abord visualiser
```{r}
graph_uni_act <- charac_graph(obj, type = "act", profile = "l")
graph_uni_act$taux_dinsertion
```
hierarchie du taux d'insertion
groupe 2 >>> groupe 3 >>> groupe 1

```{r}
graph_uni_illus <- charac_graph(obj, type = "illus", profile = "l")
graph_uni_illus$code_du_domaine
```
```{r}
graph_uni_illus2 <- charac_graph(obj, type = "illus", profile = "c")
graph_uni_illus2$code_du_domaine

```

```{r}
univariate = charac_uni(obj)
print(univariate)
```
```{r}
print(univariate$taux_dinsertion)
print(univariate$code_du_domaine)
```

```{r}
vtest = testval(obj)
#print result for numeric variables
tquanti <- vtest$num[[1]]
print(tquanti)
```

```{r}
vtest$graph
```



```{r}
#print result for qualitative variables
tquali <- vtest$num[[2]]
#print(tquali)
#print result for one qualitative variable
print(tquali$domaine)
```




## Caractérisation multivariée
```{r}
pca <- charac_graph(obj, type = "pca")
pca$var
```

```{r}
pca$ind
```

### ADL
```{r}
lda = clustlda(obj)
#print(lda$coef_LDA)
#the confusion matrix
print(lda$confusion_matrix)
#the model evaluation
print(lda$eval)
```

